

# 微机原理
- 8088和8086的区别：
    - 指令队列长度：
        * 8088长度为4字节
        * 8086为6字节
    - BIU/EU内数据总线宽度
        * 8088 BIU内数据总线宽度为8位，EU内数据总线宽度为16位，所以进行一次读/写操作需要两次周期
        * 8086 BIU内数据总线宽度和EU内数据总线宽度为16位
    - 对外数据总线
        * 8088外部数据总线为AD7~AD0，所以内部为16位，外部为8位，准16位机
- 8086中，可屏蔽中断与非屏蔽中断的主要区别是什么？
    - 可屏蔽中断是从CPU的INTR引脚引入的。可屏蔽中断能否响应受到CPU标志寄存器FLAG的限制，如果IF=0，则所有可屏蔽中断都不能响应，只有IF=1时，CPU才能响应可屏蔽中断。
    - 非屏蔽中断是从CPU的NMI引脚引入CPU的，它不受标志寄存器中IF的限制，只要有请求，而且在请求时没有总线请求，就可以响应。

-  8086中断系统响应中断时如何找到中断入口地址？
    - 在响应中断时，根据中断类型号，从中断类型号*4开始的连续的4个单元中保存有中断服务程序的入口地址（段内偏移地址和段地址），取出来，直接送给PC和CS即可。

- 已知某8253的输入时钟为1.193MHz。请用该芯片产生1Hz频率的脉冲波。设芯片的端口地址为40H～43H。
    * 解：输入脉冲频率为1.193MHz，要求输出1Hz频率的脉冲波。
        计数初值 N ＝ CLK脉冲频率 / OUT频率 ＝ 1.193MHz/1Hz ＝1193000 ＞2^16
    * 显然无法用一个计数器单独实现，必须用两个计数器级连才能实现。选用计数器0和计数器1工作于方式2 ，将OUT0连至CLK1。
        * （1）计数器0，对1.193MHz的时钟计数，产生频率为1kHz的周期信号，计数器0的计数初值为1193；
        * （2）计数器1，对OUT0产生的1kHz周期信号计数，从而产生频率为1Hz的周期信号，计数器1的计数初值为1000。
    *   
        - MOV   AL，35H	；控制字＝0011 0101，计数器0方式2，
				；先低字节后高字节，BCD计数
        -  OUT	 43H，AL	；控制字写入控制器端口，完成初始化
        - MOV    AL，93H	；计数初值低字节送AL		
        - OUT	 40H，AL	；写入计数器0
        - MOV    AL，11H	；计数初值高字节送AL 		
        - OUT	 40H，AL	；写入计数器0，完成送计数初值至计数器0
        - MOV    AL，75H	；控制字＝0111 0101，计数器1方式2，
                        ；先低字节后高字节，BCD计数
        - OUT	 43H，AL	；控制字写入控制器端口		
        - MOV    AL，00H	；计数初值低字节送AL
        - OUT    41H，AL 	；写入计数器1
        - MOV    AL，10H	；计数初值高字节送AL
        - OUT	 41H，AL 	；写入计数器1，完成送计数初值至计数器1
- 中断过程
    - 中断请求
    - 中断源识别（中断判优）
    - 中断响应
    - 中断处理
    - 中断返回
- 内部中断响应的过程
    - 将类型码乘4，计算出中断向量的地址
    - 硬件现场保护，即 将标志寄存器FLAGS压入堆栈，以保护当前指令执行结果的特征。
    - 清除IF和TF标志，屏蔽新的INTR中断和单步中断。
    - 保存断点，即把断点处的IP和CS值压入堆栈，先压CS，然后IP
    - 根据第一步算出的地址从中断向量表中取出中断服务子程序的入口地址，分别送到IP和CS中。
    - 转入中断服务子程序执行。
- 中断向量：中断处理子程序的入口地址，它放在中断向量表中。
- 系统总线
    - 数据总线
    - 控制总线
    - 地址总线
- 编址方式
    - 独立编址：8088、8086
    - 统一编址
- 微型计算机
    - 由CPU，存储器，I/O端口和系统总线组成
